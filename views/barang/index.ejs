<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daftar Barang</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <div class="container mt-4">

    <!-- Tombol kembali ke dashboard -->
    <a href="/dashboard" class="btn btn-secondary mb-3">Kembali ke Dashboard</a>

    <h1 class="mb-4">Daftar Barang</h1>

    <a href="/barang/tambah" class="btn btn-primary mb-3">Tambah Barang</a>

    <table class="table table-bordered table-striped table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th scope="col">Nama</th>
          <th scope="col">Jumlah</th>
          <th scope="col">Keterangan</th>
          <th scope="col">Aksi</th> <!-- âŒ "Diedit Oleh" dihapus -->
        </tr>
      </thead>
      <tbody>
        <% if (!barangs || barangs.length === 0) { %>
          <tr>
            <td colspan="4" class="text-center fst-italic text-muted">Belum ada data barang</td>
          </tr>
        <% } else { %>
          <% barangs.forEach(item => { %>
            <tr>
              <td><%= item.nama || '-' %></td>
              <td><%= (item.jumlah != null) ? item.jumlah : '-' %></td>
              <td><%= item.keterangan || '-' %></td>
              <td>
                <a href="/barang/edit/<%= item._id %>" class="btn btn-warning btn-sm me-1" aria-label="Edit <%= item.nama %>">Edit</a>

                <form action="/barang/hapus/<%= item._id %>" method="POST" style="display:inline;" onsubmit="return confirm('Yakin ingin hapus barang <%= item.nama %>?')">
                  <button type="submit" class="btn btn-danger btn-sm" aria-label="Hapus <%= item.nama %>">Hapus</button>
                </form>
              </td>
            </tr>
          <% }) %>
        <% } %>
      </tbody>
    </table>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
